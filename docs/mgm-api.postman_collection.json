{
	"variables": [],
	"info": {
		"name": "mgm-api",
		"_postman_id": "43ce7ed3-c54a-88ac-0012-ce4893de5d82",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "clusters",
			"description": "",
			"item": [
				{
					"name": "/clusters",
					"request": {
						"url": "{{url}}/v1.0/clusters",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"max_host\": 100,\n    \"usage_limit\": 80\n}"
						},
						"description": "查询ips"
					},
					"response": []
				},
				{
					"name": "/clusters/{cluster_id}",
					"request": {
						"url": "{{url}}/v1.0/clusters/ca2e8013a58858be24c15ddf0aaa9ee",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"max_host\": 100,\n    \"usage_limit\": 80\n}"
						},
						"description": "查询ips"
					},
					"response": []
				},
				{
					"name": "/clusters",
					"request": {
						"url": "{{url}}/v1.0/clusters",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"max_host\": 100,\n    \"usage_limit\": 80\n}"
						},
						"description": "查询ips"
					},
					"response": []
				},
				{
					"name": "/clusters/{cluster_id}",
					"request": {
						"url": "{{url}}/v1.0/clusters/2876fa02b14a9c175c677cb9ccd961b5",
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": "查询ips"
					},
					"response": []
				}
			]
		},
		{
			"name": "hosts",
			"description": "",
			"item": [
				{
					"name": "/hosts",
					"request": {
						"url": "{{url}}/v1.0/hosts?cluster=ca2e8013a58858be24c15ddf0aaa9eea",
						"method": "GET",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/hosts/{host_id}",
					"request": {
						"url": "{{url}}/v1.0/hosts/2cab067ab535a5d569a60817fc0fea90",
						"method": "GET",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/hosts",
					"request": {
						"url": "{{url}}/v1.0/hosts",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n    {\n        \"cluster_id\": \"e25ff19d2f863e36db95ba6aa2057f3d\",\n        \"addr\": \"192.168.4.144\",\n        \"username\": \"root\",\n        \"password\": \"root\",\n        \"hdd\":[\"sdb\"],\n        \"ssd\":[],\n        \"max_container\":10,\n        \"room\": \"001\",\n        \"seat\": \"005\",\n        \"nfs_ip\": \"192.168.4.129\",\n        \"nfs_dir\": \"/NFSbackup\",\n        \"nfs_mount_dir\": \"/NFSbackup\",\n        \"nfs_mount_opts\": \"nolock\"\n    }\n]"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/hosts/{host}?username=root&password=root",
					"request": {
						"url": "{{url}}/v1.0/hosts/{host}?username=root&password=root",
						"method": "DELETE",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "images",
			"description": "",
			"item": [
				{
					"name": "/softwares/images",
					"request": {
						"url": "{{url}}/v1.0/softwares/images",
						"method": "GET",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/softwares/images",
					"request": {
						"url": "{{url}}/v1.0/softwares/images",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"mysql\",\n    \"major_version\": 5,\n    \"minor_version\": 7,\n    \"patch_version\": 17,\n    \"image_path\": \"/NFSbackup/images/mysql/mysql-5.7.17.tar\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/softwares/images/{image_id}",
					"request": {
						"url": "{{url}}/v1.0/softwares/images/0c497b7acabfe47930584677bc708206",
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "networking_ips",
			"description": "",
			"item": [
				{
					"name": "/networkings/{networking_id}/ips",
					"request": {
						"url": "{{url}}/v1.0/networkings/testid123456/ips",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"start\": \"192.168.100.100\",\n  \"end\": \"192.168.100.200\",\n  \"prefix\": 24,\n  \"gateway\": \"192.168.100.1\",\n  \"vlan_id\": 1\n}"
						},
						"description": "查询ips"
					},
					"response": []
				},
				{
					"name": "/networkings/{networking_id}/ips",
					"request": {
						"url": "{{url}}/v1.0/networkings/testid123456/ips",
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/networkings",
					"request": {
						"url": "{{url}}/v1.0/networkings",
						"method": "GET",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/networkings/{networkings_id}",
					"request": {
						"url": "{{url}}/v1.0/networkings/86c24369140a4c08aa47419e3bb87c90",
						"method": "GET",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/networkings/{networkings_id}/ips/enable",
					"request": {
						"url": "{{url}}/v1.0/networkings/86c24369140a4c08aa47419e3bb87c90/ips/enable",
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n  \"192.168.3.100\",\n    \"192.168.3.101\"\n]"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/networkings/{networkings_id}/ips/disable",
					"request": {
						"url": "{{url}}/v1.0/networkings/86c24369140a4c08aa47419e3bb87c90/ips/disable",
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n  \"192.168.3.100\",\n    \"192.168.3.101\"\n]"
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "nfs",
			"description": "",
			"item": [
				{
					"name": "/nfs_backups/space",
					"request": {
						"url": "{{url}}/v1.0/nfs_backups/space?nfs_ip=192.168.2.129&nfs_dir=/NFSbackup&nfs_mount_dir=/NFSbackup&nfs_mount_opts=nolock",
						"method": "GET",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "services",
			"description": "",
			"item": [
				{
					"name": "/service",
					"request": {
						"url": "{{url}}/v1.0/services",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"max_host\": 100,\n    \"usage_limit\": 80\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/services/{serive_id}",
					"request": {
						"url": "{{url}}/v1.0/services/81f7cc126285e76fe09509fe1a58dd31",
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"max_host\": 100,\n    \"usage_limit\": 80\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/services",
					"request": {
						"url": "{{url}}/v1.0/services",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"architecture\": {\n    \"code\": \"M:1#S:1\",\n    \"mode\": \"replication\",\n    \"unit_num\": 2\n  },\n  \"backup\": {\n    \"backup_files_retention\": 1,\n    \"max_space\": 5368709120,\n    \"nfs_mount_dir\": \"/NFSbackup\"\n  },\n  \"cluster_id\": [\"ae786048ca3c2416a6b6d84954024dc1\"],\n  \"image_version\": \"mysql:5.7.17\",\n  \"name\": \"9eb29fc6542e403aa02475650ecee1d7\",\n  \"networking_id\": [\n    \"66828cd7a1d44f0aaf8230cdfb6c2cfe\"\n  ],\n  \"opts\": {\n    \"port\": 3306\n  },\n  \"tag\": \"mysql测试\",\n  \"unit_require\": {\n    \"networks\": [\n      {\n        \"bandwidth\": 100\n      }\n    ],\n    \"require\": {\n      \"memory\": 2147483648,\n      \"ncpu\": 1\n    },\n    \"volumes\": [\n      {\n        \"name\": \"DAT\",\n        \"size\": 5368709120,\n        \"type\": \"local:HDD\"\n      },\n      {\n        \"name\": \"LOG\",\n        \"size\": 10737418240,\n        \"type\": \"local:HDD\"\n      }\n    ]\n  },\n  \"users\": [\n    {\n      \"role\": \"mon\",\n      \"name\": \"monitor\",\n      \"password\": \"123.com\",\n      \"privilege\": \"CREATE,DROP,UPDATE\"\n    },\n    {\n      \"role\": \"repl\",\n      \"name\": \"replictaion\",\n      \"password\": \"123.com\",\n      \"privilege\": \"CREATE,DROP,UPDATE\"\n    },\n    {\n      \"role\": \"root\",\n      \"name\": \"root\",\n      \"password\": \"123.com\",\n      \"privilege\": \"CREATE,DROP,UPDATE\"\n    }\n  ]\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/services/link",
					"request": {
						"url": "{{url}}/v1.0/services/link",
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n  {\n    \"id\": \"serviceXXX005\",\n    \"deps\": [\n      \"serviceXXX001\",\n      \"serviceXXX002\"\n    ]\n  }\n]"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/services/{name}/start",
					"request": {
						"url": "{{url}}/v1.0/services/56b2271b3c0263aeee06e9870eb267ad/start",
						"method": "POST",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				},
				{
					"name": "/services/{service_id}",
					"request": {
						"url": "{{url}}/v1.0/services/3aee0e1d173b643faae8602c5d10e96b",
						"method": "DELETE",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "tasks",
			"description": "",
			"item": [
				{
					"name": "/tasks/{task_id}",
					"request": {
						"url": "{{url}}/v1.0/tasks/975b77040f238521b86a0efc496b53d2",
						"method": "GET",
						"header": [],
						"body": {},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "/_ping",
			"request": {
				"url": "{{url}}/v1.0/_ping",
				"method": "GET",
				"header": [],
				"body": {},
				"description": ""
			},
			"response": []
		}
	]
}